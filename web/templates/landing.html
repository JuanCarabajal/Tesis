{% extends "base.html" %}
{% block content %}
{% block head %}
<style>
/* Loader overlay (solo landing) */
@keyframes loaderGlow { 0%, 100% { transform: scale(1); opacity: 0.8; } 50% { transform: scale(1.05); opacity: 1; } }
@keyframes loaderReveal {
  0%   { clip-path: circle(130% at 50% 50%); opacity: 1; }
  70%  { clip-path: circle(130% at 50% 50%); opacity: 1; }
  100% { clip-path: circle(0% at 50% 50%); opacity: 0; }
}
.loader-overlay {
  position: fixed;
  inset: 0;
  z-index: 70;
  display: grid;
  place-items: center;
  background:
    radial-gradient(70% 60% at 20% 20%, rgba(16,185,129,0.2), transparent),
    radial-gradient(70% 60% at 80% 10%, rgba(56,189,248,0.16), transparent),
    linear-gradient(160deg, #020617 0%, #0b1224 40%, #0f172a 100%);
  transition: opacity 0.6s ease, visibility 0.6s ease;
  clip-path: circle(130% at 50% 50%);
  animation: loaderReveal 1.8s ease forwards;
}
.loader-overlay.hidden { opacity: 0; visibility: hidden; pointer-events: none; }
.loader-logo-wrap {
  position: relative;
  height: 120px;
  width: 120px;
  display: grid;
  place-items: center;
}
.loader-logo-wrap::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 32px;
  background: radial-gradient(circle at 50% 50%, rgba(59,130,246,0.32), transparent 70%);
  filter: blur(18px);
  animation: loaderGlow 2s ease-in-out infinite;
}
.loader-text {
  font-size: 14px;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: #e2e8f0;
}
.logo-pop {
  animation: logoPop 1.6s ease forwards;
}
@keyframes logoPop {
  0%   { transform: translateY(12px) scale(0.85); opacity: 0; filter: blur(8px); }
  40%  { transform: translateY(0) scale(1); opacity: 1; filter: blur(0); }
  100% { transform: translateY(0) scale(1); opacity: 1; filter: blur(0); }
}
.landing-page main { max-width: 100%; padding: 0; }
/* Fondo claro solo para tema light */
.landing-light-bg { display: none; }
:is(html.theme-light, .theme-light) .landing-light-bg { display: block; }
</style>
{% endblock %}

<!-- LANDING - Sharpix -->
<div class="relative overflow-hidden">
  <!-- Fondo suave para modo claro (celeste + verde agua + blanco) -->
  <div aria-hidden="true" class="pointer-events-none absolute inset-0 -z-20 landing-light-bg">
    <div class="absolute inset-0 bg-[radial-gradient(80%_60%_at_20%_30%,rgba(94,234,212,0.22),transparent),radial-gradient(75%_60%_at_80%_20%,rgba(125,211,252,0.18),transparent),linear-gradient(180deg,#f7fbff_0%,#eaf8f4_50%,#f9fbff_100%)]"></div>
  </div>
  <!-- Loader overlay -->
  <div id="sharpix-loader" class="loader-overlay">
    <div class="flex flex-col items-center gap-4 text-center">
      <div class="loader-logo-wrap">
        <img src="{{ url_for('static', filename='brand/mark.png') }}" alt="Sharpix" class="relative h-20 w-20 object-contain logo-pop" />
      </div>
      <div class="loader-text">Cargando Sharpix</div>
    </div>
  </div>

  <!-- HERO -->
  <section class="relative max-w-6xl mx-auto px-6 pt-16 pb-12">
    <!-- Glow background -->
  <div class="pointer-events-none absolute inset-0 -z-10">
    <div class="absolute -left-24 top-0 h-64 w-64 rounded-full bg-emerald-500/25 blur-3xl"></div>
    <div class="absolute right-0 top-10 h-72 w-72 rounded-full bg-sky-500/20 blur-3xl"></div>
    <div class="absolute -right-24 bottom-0 h-60 w-60 rounded-full bg-violet-500/20 blur-3xl"></div>
  </div>

  <!-- Logo float -->
  <div class="pointer-events-none absolute left-4 top-6 -z-0 opacity-0 animate-[logoPulse_2.2s_ease_0.4s_forwards]">
    <div class="relative h-14 w-14 rounded-2xl bg-white/5 ring-1 ring-white/10 backdrop-blur">
      <div class="absolute inset-0 rounded-2xl bg-gradient-to-br from-emerald-500/25 to-sky-500/25 blur-xl"></div>
      <img src="{{ url_for('static', filename='brand/mark.png') }}" alt="Sharpix" class="absolute inset-2 rounded-xl">
    </div>
  </div>

    <div class="grid items-center gap-10 lg:grid-cols-2">
      <!-- Copy -->
      <div class="space-y-5 text-left">

        <h1 class="text-4xl md:text-5xl font-extrabold leading-[1.05] tracking-tight text-[var(--text)] drop-shadow-sm">
          Convierte tus demos de CS2 en
          <span class="block bg-gradient-to-r from-emerald-400 via-sky-400 to-indigo-400 bg-clip-text text-transparent">
            feedback accionable
          </span>
        </h1>

        <p class="text-lg text-[var(--muted)] max-w-xl">
          Subi tu .dem de Mirage y recibi score, quick wins y plan de practica en segundos. Procesamos en la nube segura; vos solo subis la demo.
        </p>

        <div class="flex flex-col sm:flex-row gap-3">
          <a href="{{ url_for('register') }}" class="inline-flex justify-center px-6 py-3 rounded-xl bg-emerald-500 hover:bg-emerald-600 text-white font-semibold shadow-lg shadow-emerald-500/25 transition">
            Crear cuenta gratis
          </a>
          <a href="{{ url_for('summary_demo') }}" class="inline-flex justify-center px-6 py-3 rounded-xl border border-[var(--border)] bg-[color-mix(in_srgb,var(--card)_85%,#fff_15%)] text-[var(--text)] hover:bg-[color-mix(in_srgb,var(--card)_80%,#fff_20%)] transition">
            Ver demo ahora
          </a>
        </div>

        <div class="flex flex-wrap gap-3 text-sm text-[var(--muted)]">
          <span class="inline-flex items-center gap-2 rounded-full border border-[var(--border)] bg-[color-mix(in_srgb,var(--card)_90%,#fff_10%)] px-3 py-1">
            <span class="h-1.5 w-1.5 rounded-full bg-emerald-300"></span> Score 0-100 y rol sugerido
          </span>
          <span class="inline-flex items-center gap-2 rounded-full border border-[var(--border)] bg-[color-mix(in_srgb,var(--card)_90%,#fff_10%)] px-3 py-1">
            <span class="h-1.5 w-1.5 rounded-full bg-sky-300"></span> PDF listo para compartir
          </span>
        </div>
      </div>

      <!-- Mockup -->
      <div class="relative">
        <div class="absolute -left-10 -top-6 h-40 w-40 rounded-full bg-emerald-400/20 blur-3xl"></div>
        <div class="absolute -right-16 bottom-0 h-48 w-48 rounded-full bg-sky-400/20 blur-3xl"></div>

        <div class="relative overflow-hidden rounded-3xl border border-white/10 bg-slate-900/70 shadow-2xl ring-1 ring-emerald-500/10 backdrop-blur">
          <div class="flex items-center gap-2 border-b border-white/5 bg-white/5 px-4 py-3">
            <div class="flex gap-1.5">
              <span class="h-2.5 w-2.5 rounded-full bg-red-400"></span>
              <span class="h-2.5 w-2.5 rounded-full bg-amber-400"></span>
              <span class="h-2.5 w-2.5 rounded-full bg-emerald-400"></span>
            </div>
            <span class="text-xs text-[var(--muted)]">Summary - Mirage</span>
          </div>

          <div class="space-y-4 p-4">
            <div class="flex items-start justify-between gap-3">
              <div>
                <p class="text-xs text-slate-400">Score</p>
                <div class="text-2xl font-semibold text-white">4.3 <span class="text-xs text-slate-400">/5</span></div>
                <p class="text-xs text-slate-400">Rendimiento alto</p>
              </div>
              <span class="inline-flex items-center gap-2 rounded-xl bg-emerald-500/15 px-3 py-1.5 text-xs font-medium text-emerald-100 ring-1 ring-emerald-400/40">
                Rol sugerido: Entry
              </span>
            </div>

            <div class="grid grid-cols-3 gap-2 text-xs text-white">
              <div class="rounded-xl border border-[var(--border)] bg-[color-mix(in_srgb,var(--card)_92%,#fff_8%)] p-3">
                <p class="text-slate-400 text-[11px]">Trades</p>
                <p class="text-lg font-semibold">82%</p>
                <div class="mt-1 h-1.5 w-full overflow-hidden rounded-full bg-white/10">
                  <div class="h-full w-[82%] rounded-full bg-emerald-400"></div>
                </div>
              </div>
              <div class="rounded-xl border border-[var(--border)] bg-[color-mix(in_srgb,var(--card)_92%,#fff_8%)] p-3">
                <p class="text-slate-400 text-[11px]">Utility</p>
                <p class="text-lg font-semibold">78%</p>
                <div class="mt-1 h-1.5 w-full overflow-hidden rounded-full bg-white/10">
                  <div class="h-full w-[78%] rounded-full bg-sky-400"></div>
                </div>
              </div>
              <div class="rounded-xl border border-[var(--border)] bg-[color-mix(in_srgb,var(--card)_92%,#fff_8%)] p-3">
                <p class="text-slate-400 text-[11px]">Post-plant</p>
                <p class="text-lg font-semibold">72%</p>
                <div class="mt-1 h-1.5 w-full overflow-hidden rounded-full bg-white/10">
                  <div class="h-full w-[72%] rounded-full bg-violet-400"></div>
                </div>
              </div>
            </div>

            <div class="overflow-hidden rounded-2xl border border-white/5 bg-black/40">
              <img src="{{ url_for('static', filename='brand/heatmap_mock.png') }}" class="w-full h-auto" alt="Vista de heatmap Mirage">
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- GETTING STARTED -->
  <section class="max-w-6xl mx-auto px-6 pb-6">
    <div class="mb-6">
      <h2 class="mt-1 text-2xl md:text-3xl font-bold text-[var(--text)]">Arrancá en 3 pasos</h2>
      <p class="text-[var(--muted)] mt-2 text-sm md:text-base">Configurar tu cuenta y obtener feedback es muy fácil.</p>
    </div>

    <div class="grid gap-4 md:grid-cols-3">
      {% for step in [
        {
          "label": "Paso 1",
          "title": "Creá tu cuenta",
          "desc": "Registrate gratis, confirmá email y accedé al dashboard para subir tus demos.",
          "icon": "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 5a2 2 0 110 4 2 2 0 010-4zm0 12c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08C16.71 17.72 14.5 19 12 19z"
        },
        {
          "label": "Paso 2",
          "title": "Subí una demo",
          "desc": "Carga tu .dem de Mirage, el sistema procesa eventos, posiciones y genera KPIs.",
          "icon": "M4 6h16M4 12h16M4 18h7"
        },
        {
          "label": "Paso 3",
          "title": "Mejorá tu juego",
          "desc": "Recibí score, rol sugerido y quick wins accionables para rankear más rápido.",
          "icon": "M12 6v6l4 2m6-2a10 10 0 11-20 0 10 10 0 0120 0z"
        }
      ] %}
      <div class="rounded-2xl border border-[var(--border)] bg-[var(--card)] shadow-lg shadow-emerald-500/10 p-5 flex flex-col gap-3">
        <div class="flex items-center gap-3">
          <div class="flex h-12 w-12 items-center justify-center rounded-xl bg-emerald-500/10 ring-1 ring-emerald-400/30 text-emerald-200">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="{{ step.icon }}" />
            </svg>
          </div>
          <div>
            <p class="text-xs uppercase tracking-wide text-emerald-200/90">{{ step.label }}</p>
            <h3 class="text-lg font-semibold text-[var(--text)]">{{ step.title }}</h3>
          </div>
        </div>
        <p class="text-sm text-[var(--muted)] leading-relaxed">{{ step.desc }}</p>
      </div>
      {% endfor %}
    </div>
  </section>

  <!-- FEATURES -->
  <section class="max-w-6xl mx-auto px-6 py-10">
    <div class="grid md:grid-cols-2 gap-8 items-center">
      <div class="space-y-4">
        <p class="text-xs uppercase tracking-[0.3em] text-[color-mix(in_srgb,var(--accent)_75%,var(--muted))]">Sharpix para Mirage</p>
        <h2 class="text-2xl md:text-3xl font-bold text-[var(--text)]">Entrenamiento orientado a decisiones</h2>
        <p class="text-[var(--muted)] text-sm md:text-base">
          Combinamos patrones de juego y uso de utilidades para armarte un plan semanal sencillo y accionable.
        </p>
        <ul class="space-y-2 text-[var(--muted)] text-sm md:text-base">
          <li>• Diagnóstico claro por categoría y rol recomendado</li>
          <li>• Mejoras rápidas y accionables que puedes practicar al instante</li>
          <li>• Puntuación 0-5 con comparativas visuales fáciles de leer</li>
          <li>• Exportación a PDF en un clic para compartir</li>
        </ul>
      </div>

      <!-- Card visual a juego -->
      <div class="rounded-2xl overflow-hidden shadow-xl ring-1 ring-emerald-400/20
                  bg-gradient-to-br from-emerald-500/10 to-sky-500/10">
        <img src="{{ url_for('static', filename='brand/heatmap_mock.png') }}" class="w-full object-cover" alt="Heatmap Mirage">
      </div>
    </div>
  </section>

  <!-- PRICING (resumen) -->
  <section id="pricing" class="max-w-6xl mx-auto px-6 py-16">
    <h2 class="text-2xl md:text-3xl font-bold text-center text-[var(--text)]">Planes</h2>
    <p class="text-center text-[var(--muted)] mt-2">Empeza gratis, escala cuando quieras.</p>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-10">
      <!-- Free -->
      <div class="group relative cursor-pointer rounded-2xl p-6 pb-14 border border-[var(--border)]
                  bg-[color-mix(in_srgb,var(--card)_88%,#10b98115)] shadow-[0_12px_30px_rgba(15,23,42,0.08)]
                  transition-all duration-300 hover:-translate-y-1 hover:shadow-xl hover:border-[color-mix(in_srgb,var(--accent)_40%,var(--border))]">
        <div class="flex flex-col divide-y divide-[var(--border)] h-full">
          <div class="pb-3 flex justify-between items-center">
            <h3 class="text-lg font-semibold text-[var(--text)]">Gratis</h3>
            <span class="text-xs font-semibold text-emerald-600 bg-emerald-100 px-2 py-0.5 rounded-full">Free</span>
          </div>
          <div class="py-3 flex-1">
            <ul class="text-sm mt-3 space-y-2 text-[var(--muted)]">
              <li>Hasta <b>3 demos</b> / mes</li>
              <li>Feedback basico por IA</li>
              <li>Comparativas globales</li>
            </ul>
          </div>
          <div class="pt-3">
            <p class="text-center font-bold mt-5 text-[var(--text)]">USD 0 / mes</p>
          </div>
        </div>
        <div class="pointer-events-none absolute inset-x-0 -bottom-10 flex justify-center opacity-0 translate-y-1 transition-all duration-300 group-hover:opacity-100 group-hover:translate-y-0 group-hover:pointer-events-auto">
          <button class="px-4 py-2 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white text-sm">Elegir plan</button>
        </div>
      </div>

      <!-- Pro (destacado) -->
      <div class="group relative cursor-pointer rounded-2xl p-6 pb-14 border-2 border-[color-mix(in_srgb,var(--accent)_55%,var(--border))]
                  bg-[color-mix(in_srgb,var(--card)_88%,#0ea5e915)] shadow-[0_14px_34px_rgba(15,23,42,0.1)]
                  transition-all duration-300 hover:-translate-y-2 hover:shadow-xl hover:scale-[1.01]">
        <div class="flex flex-col divide-y divide-[var(--border)] h-full">
          <div class="pb-3 flex justify-between items-center">
            <h3 class="text-lg font-semibold text-[var(--text)]">Pro</h3>
            <span class="text-xs font-semibold text-sky-600 bg-sky-100 px-2 py-0.5 rounded-full">Popular</span>
          </div>
          <div class="py-3 flex-1">
            <ul class="text-sm mt-3 space-y-2 text-[var(--muted)]">
              <li><b>Analisis ilimitados</b></li>
              <li>Comparativas por rol</li>
              <li>Recomendaciones personalizadas</li>
            </ul>
          </div>
          <div class="pt-3">
            <p class="text-center font-bold mt-5 text-[var(--text)]">USD 10 / mes</p>
          </div>
        </div>
        <div class="pointer-events-none absolute inset-x-0 -bottom-10 flex justify-center opacity-0 translate-y-1 transition-all duration-300 group-hover:opacity-100 group-hover:translate-y-0 group-hover:pointer-events-auto">
          <button class="px-4 py-2 rounded-lg bg-sky-500 hover:bg-sky-600 text-white text-sm">Elegir plan</button>
        </div>
      </div>

      <!-- Team -->
      <div class="group relative cursor-pointer rounded-2xl p-6 pb-14 border border-[var(--border)]
                  bg-[color-mix(in_srgb,var(--card)_88%,#6366f115)] shadow-[0_12px_30px_rgba(15,23,42,0.08)]
                  transition-all duration-300 hover:-translate-y-1 hover:shadow-xl hover:border-[color-mix(in_srgb,var(--accent)_40%,var(--border))]">
        <div class="flex flex-col divide-y divide-[var(--border)] h-full">
          <div class="pb-3 flex justify-between items-center">
            <h3 class="text-lg font-semibold text-[var(--text)]">Equipo</h3>
            <span class="text-xs font-semibold text-indigo-600 bg-indigo-100 px-2 py-0.5 rounded-full">Team</span>
          </div>
          <div class="py-3 flex-1">
            <ul class="text-sm mt-3 space-y-2 text-[var(--muted)]">
              <li>Hasta 10 jugadores</li>
              <li>Dashboards compartidos</li>
              <li>Reportes grupales</li>
            </ul>
          </div>
          <div class="pt-3">
            <p class="text-center font-bold mt-5 text-[var(--text)]">USD 50 / mes</p>
          </div>
        </div>
        <div class="pointer-events-none absolute inset-x-0 -bottom-10 flex justify-center opacity-0 translate-y-1 transition-all duration-300 group-hover:opacity-100 group-hover:translate-y-0 group-hover:pointer-events-auto">
          <button class="px-4 py-2 rounded-lg bg-indigo-500 hover:bg-indigo-600 text-white text-sm">Elegir plan</button>
        </div>
      </div>

      <!-- Enterprise -->
      <div class="group relative cursor-pointer rounded-2xl p-6 pb-14 border border-[var(--border)]
                  bg-[color-mix(in_srgb,var(--card)_88%,#f59e0b18)] shadow-[0_12px_30px_rgba(15,23,42,0.08)]
                  transition-all duration-300 hover:-translate-y-1 hover:shadow-xl hover:border-[color-mix(in_srgb,var(--accent)_40%,var(--border))]">
        <div class="flex flex-col divide-y divide-[var(--border)] h-full">
          <div class="pb-3 flex justify-between items-center">
            <h3 class="text-lg font-semibold text-[var(--text)]">Empresa</h3>
            <span class="text-xs font-semibold text-amber-700 bg-amber-100 px-2 py-0.5 rounded-full">Enterprise</span>
          </div>
          <div class="py-3 flex-1">
            <ul class="text-sm mt-3 space-y-2 text-[var(--muted)]">
              <li>Licencias personalizadas</li>
              <li>Soporte dedicado</li>
              <li>Branding y dashboards premium</li>
            </ul>
          </div>
          <div class="pt-3">
            <p class="text-center font-bold mt-5 text-[var(--text)]">USD 200 / mes</p>
          </div>
        </div>
        <div class="pointer-events-none absolute inset-x-0 -bottom-10 flex justify-center opacity-0 translate-y-1 transition-all duration-300 group-hover:opacity-100 group-hover:translate-y-0 group-hover:pointer-events-auto">
          <button class="px-4 py-2 rounded-lg bg-amber-500 hover:bg-amber-600 text-white text-sm">Elegir plan</button>
        </div>
      </div>
    </div>

    <div class="text-center mt-8">
      <a href="{{ url_for('pricing') }}" class="inline-flex items-center px-5 py-2 rounded-xl bg-emerald-500 hover:bg-emerald-600 text-white font-medium shadow">
        Ver detalle de precios
      </a>
    </div>
  </section>

  <!-- FAQ CTA -->
  <section class="max-w-6xl mx-auto px-6 pb-6">
    <div class="flex flex-col gap-3 rounded-2xl border border-[var(--border)] bg-[color-mix(in_srgb,var(--card)_92%,#fff_8%)] p-5 md:flex-row md:items-center md:justify-between">
      <div>
        <p class="text-xs uppercase tracking-[0.25em] text-emerald-300/80">FAQ</p>
        <h3 class="text-lg font-semibold text-[var(--text)]">Respondemos las dudas mas comunes</h3>
        <p class="text-sm text-[var(--muted)]">Seguridad, alcances y roadmap en un vistazo.</p>
      </div>
      <a href="{{ url_for('faq') }}" class="inline-flex items-center gap-2 rounded-xl bg-emerald-500 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-emerald-500/25 hover:bg-emerald-600">
        Ver preguntas frecuentes
      </a>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="max-w-5xl mx-auto px-6 pb-16">
    <h2 class="text-2xl md:text-3xl font-bold text-center text-[var(--text)]">Preguntas frecuentes</h2>
    <div class="mt-8 grid md:grid-cols-2 gap-6">
      {% for q,a in [
        ['Mis demos se suben a la nube?','Si. Se procesan en la nube de Sharpix con acceso cifrado y uso exclusivo para feedback.'],
        ['Soporta mapas ademas de Mirage?','Hoy es Mirage; Inferno y Nuke siguen en el roadmap inmediato.'],
        ['Puedo exportar y compartir?','Si, con Exportar PDF desde el resumen para compartir con tu equipo.'],
        ['Como protege mis credenciales?','Login propio; no pedimos Steam/Faceit y los archivos se usan solo para el analisis.']
      ] %}
      <div class="p-5 rounded-xl border border-emerald-300/40
                  surface shadow-md transition-all duration-300 hover:-translate-y-1 hover:shadow-lg hover:border-[color-mix(in_srgb,var(--accent)_40%,var(--border))] bg-[color-mix(in_srgb,var(--card)_94%,#fff_6%)]">
        <p class="font-medium text-[var(--text)]">{{ q }}</p>
        <p class="text-sm text-[var(--text)] mt-1">{{ a }}</p>
      </div>
      {% endfor %}
    </div>
  </section>

</div>
{% endblock %}

{% block scripts %}
{{ super() }}
<script>
(function() {
  const overlay = document.getElementById("sharpix-loader");
  if (!overlay) return;
  document.body.style.overflow = 'hidden';
  setTimeout(() => {
    overlay.classList.add('hidden');
    document.body.style.overflow = '';
  }, 1800);
})();
document.body.classList.add('landing-page');
</script>
{% endblock %}
